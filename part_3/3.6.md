front-end-1                  latest        b702b7cc6427   2 minutes ago    676MB
front-end-1                  latest        b702b7cc6427   10 minutes ago   756MB
improved 80MB

frontend dockerfile

```dockerfile

FROM ubuntu

WORKDIR /usr/src/app

EXPOSE 5000
COPY . .
RUN apt-get update &&\
     apt-get install curl -y &&\
     curl -sL https://deb.nodesource.com/setup_16.x | bash && \
     apt-get purge -y --auto-remove curl &&\
     rm -rf /var/lib/apt/lists/* &&\
     apt install -y nodejs &&\
     npm install &&\
     npm run build &&\
     npm install -g serve &&\
     useradd -m appuser &&\
     chown appuser . 
     

USER appuser

ENV REACT_APP_BACKEND_URL=http://localhost/api 




CMD serve -s -l 5000 build
```

For the backend I went from 1.1.7 GB to just 25mb by using the building pattern !

```dockerfile

# Build Stage
FROM golang:1.16 AS builder

ENV GO111MODULE=on \
    CGO_ENABLED=0 \
    GOOS=linux \
    GOARCH=amd64

WORKDIR /go/src/app

COPY . .

RUN go build -o server .

# Final Stage
FROM alpine:latest

ENV REQUEST_ORIGIN=http://localhost \
    REDIS_HOST=redis \
    POSTGRES_HOST=db \
    POSTGRES_USER=postgres \
    POSTGRES_PASSWORD=example \
    POSTGRES_DATABASE=webapp

WORKDIR /app

COPY --from=builder /go/src/app/server .
RUN adduser webserver 
RUN chown webserver .

USER webserver
CMD ["./server"]

```
